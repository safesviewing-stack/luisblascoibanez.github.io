function changeSection(id, link) {
  const current = document.querySelector('.section.active');
  const logo = document.getElementById('logo-home');
  
  if(current && current.id === id) return;  // No hacer nada si ya estamos en la sección actual

  // Ocultar la sección actual
  const fade = document.querySelector('.section-fade');
  fade.classList.remove('active');
  void fade.offsetHeight;  // force reflow
  fade.classList.add('active');

  // Ocultar logo y otras animaciones
  if(id !== "home") {
    logo.style.visibility = 'hidden';  /* Use visibility instead of display: none */
  } else {
    logo.style.visibility = 'visible';
  }

  // Eliminar clase activa de todas las secciones
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  
  // Mostrar la nueva sección activa
  document.getElementById(id).classList.add('active');
  
  // Resaltar el enlace de navegación correspondiente
  document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
  link.classList.add('active');

  resetAnimations();  // Resetear animaciones al cambiar de sección
}
